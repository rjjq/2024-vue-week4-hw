import{u as d,r as u,b as c,c as f,d as _,e,w as t,v as l,f as w,g,h,i as v}from"./index-BgZp6ebe.js";import{S as n,a as b}from"./sweetalert2-D8OhiPZJ.js";const C={id:"signUpPage",class:"bg-yellow"},y={class:"conatiner signUpPage vhContainer"},x=e("div",{class:"side"},[e("a",{href:"#"},[e("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),e("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1),k={class:"formControls",action:"index.html"},U=e("h2",{class:"formControls_txt"},"註冊帳號",-1),V=e("label",{class:"formControls_label",for:"email"},"Email",-1),P=e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),q=e("label",{class:"formControls_label",for:"pwd"},"密碼",-1),S=e("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1),B="https://todolist-api.hexschool.io",I={__name:"SignUpView",setup(N){const m=d(),o=u({email:"",password:"",nickname:"",confirmPassword:""}),i=async()=>{var r;if(o.value.password!==o.value.confirmPassword){n.fire("輸入密碼不符，請重新確認");return}try{await b.post(`${B}/users/sign_up`,o.value),n.fire(`${o.value.email}: 註冊成功`).then(()=>{m.push({path:"/login",query:{email:o.value.email,password:o.value.password}})})}catch(s){console.log(s),s.response.data.message instanceof Array?n.fire((r=s.response.data.message)==null?void 0:r.join(`
`)):n.fire(s.response.data.message)}};return(r,s)=>{const p=c("router-link");return f(),_("div",C,[e("div",y,[x,e("div",null,[e("form",k,[U,V,t(e("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email","onUpdate:modelValue":s[0]||(s[0]=a=>o.value.email=a),autocomplete:"email",required:""},null,512),[[l,o.value.email]]),P,t(e("input",{class:"formControls_input",type:"text",name:"name",id:"name","onUpdate:modelValue":s[1]||(s[1]=a=>o.value.nickname=a),placeholder:"請輸入您的暱稱"},null,512),[[l,o.value.nickname]]),q,t(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd","onUpdate:modelValue":s[2]||(s[2]=a=>o.value.password=a),placeholder:"請輸入密碼",autocomplete:"new-password",required:""},null,512),[[l,o.value.password]]),S,t(e("input",{class:"formControls_input",type:"password",name:"confirm_pwd",id:"confirm_pwd","onUpdate:modelValue":s[3]||(s[3]=a=>o.value.confirmPassword=a),onKeyup:w(i,["enter"]),placeholder:"請再次輸入密碼",autocomplete:"new-password",required:""},null,544),[[l,o.value.confirmPassword]]),e("input",{class:"formControls_btnSubmit",type:"button",onClick:i,value:"註冊帳號"}),g(p,{class:"formControls_btnLink",to:"/login"},{default:h(()=>[v("登入")]),_:1})])])])])}}};export{I as default};
