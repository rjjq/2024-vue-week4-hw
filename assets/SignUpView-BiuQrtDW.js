import{u as c,r as m,b as f,c as _,d as w,e,w as l,v as t,g,h,i as v,j as b}from"./index-BbjktQmv.js";import{S as n,a as C}from"./sweetalert2-D8OhiPZJ.js";const y={id:"signUpPage",class:"bg-yellow"},x={class:"conatiner signUpPage vhContainer"},k=e("div",{class:"side"},[e("a",{href:"#"},[e("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),e("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1),U={class:"formControls",action:"index.html"},V=e("h2",{class:"formControls_txt"},"註冊帳號",-1),P=e("label",{class:"formControls_label",for:"email"},"Email",-1),q=e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),S=e("label",{class:"formControls_label",for:"pwd"},"密碼",-1),B=e("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1),N=["disabled"],j="https://todolist-api.hexschool.io",K={__name:"SignUpView",setup(D){const p=c(),o=m({email:"",password:"",nickname:"",confirmPassword:""}),r=m(!1),d=async()=>{var i;if(o.value.password!==o.value.confirmPassword){n.fire("輸入密碼不符，請重新確認");return}r.value=!0;try{await C.post(`${j}/users/sign_up`,o.value),n.fire(`${o.value.email}: 註冊成功`).then(()=>{p.push({path:"/login",query:{email:o.value.email,password:o.value.password}})})}catch(s){console.log(s),s.response.data.message instanceof Array?n.fire((i=s.response.data.message)==null?void 0:i.join(`
`)):n.fire(s.response.data.message)}finally{r.value=!1}};return(i,s)=>{const u=f("router-link");return _(),w("div",y,[e("div",x,[k,e("div",null,[e("form",U,[V,P,l(e("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email","onUpdate:modelValue":s[0]||(s[0]=a=>o.value.email=a),autocomplete:"email",required:""},null,512),[[t,o.value.email]]),q,l(e("input",{class:"formControls_input",type:"text",name:"name",id:"name","onUpdate:modelValue":s[1]||(s[1]=a=>o.value.nickname=a),placeholder:"請輸入您的暱稱"},null,512),[[t,o.value.nickname]]),S,l(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd","onUpdate:modelValue":s[2]||(s[2]=a=>o.value.password=a),placeholder:"請輸入密碼",autocomplete:"new-password",required:""},null,512),[[t,o.value.password]]),B,l(e("input",{class:"formControls_input",type:"password",name:"confirm_pwd",id:"confirm_pwd","onUpdate:modelValue":s[3]||(s[3]=a=>o.value.confirmPassword=a),onKeyup:g(d,["enter"]),placeholder:"請再次輸入密碼",autocomplete:"new-password",required:""},null,544),[[t,o.value.confirmPassword]]),e("input",{class:"formControls_btnSubmit",type:"button",onClick:d,value:"註冊帳號",disabled:r.value},null,8,N),h(u,{class:"formControls_btnLink",to:"/login"},{default:v(()=>[b("登入")]),_:1})])])])])}}};export{K as default};
